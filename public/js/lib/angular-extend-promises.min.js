/*!
 * angular-extend-promises v1.0.0-rc.3 - 2015-04-22
 * (c) 2014-2015 L.systems SARL, Etienne Folio, Quentin Raynaud
 * https://bitbucket.org/lsystems/angular-extend-promises
 * License: MIT
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports["angular-extend-promises"]=n():t["angular-extend-promises"]=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";angular.module("angular-extend-promises",[]).provider("angularExtendPromises",function(){this.options={compatibilityAliases:!0,disableES5Methods:!1},this.$get=function(){return this.options}}).config(["$provide",function(t){if(angular.mock)for(var n in r.c)delete r.c[n];t.decorator("$q",["$delegate","angularExtendPromises",function(t,n){var e=r(1);return e.$delegate=t,e.$options=n,r(2)}])}])},function(t,n,r){"use strict";var e=r(3);e.extend(t.exports,{$defer:e.noop(),$delegate:{},$options:{}})},function(t,n,r){"use strict";var e=r(3),o=r(1),u=r(4),i=t.exports=function(t){if(!e.isFunction(t))throw new Error("resolver should be a function");var n=i.defer();try{t(n.resolve,n.reject)}catch(r){n.reject(r)}return n.promise};e.extend(i,{all:r(5),any:r(6),bind:r(7),defer:r(8),each:r(9),filter:r(10),map:r(11),join:r(12),method:r(13),props:r(14),reduce:r(15),reject:r(16),resolve:r(17),some:r(18),when:r(19),AggregateError:u.AggregateError,TimeoutError:u.TimeoutError}),o.$options.compatibilityAliases&&e.extend(i,{attempt:r(20)}),o.$options.disableES5Methods||e.extend(i,{"try":r(20)})},function(t,n,r){"use strict";try{t.exports=r(21)}catch(e){t.exports=_}},function(t,n,r){"use strict";var e=t.exports.NewQError=function(t){this.name=this.constructor.name,Error.apply(this,arguments),this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack};e.prototype.toString=function(){return this.stack.toString()},e.subError=function(t,n){function r(){}n=n||e,r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t,t.subError||(t.subError=function(n){e.subError(n,t)})},e.subError(e,Error);var o=t.exports.AggregateError=function(){e.apply(this,arguments)};e.subError(o);var u=t.exports.TimeoutError=function(){e.apply(this,arguments)};e.subError(u)},function(t,n,r){"use strict";var e=r(3),o=r(22),u=r(1),i=r(2);t.exports=function(t){return e.isArray(t)?(t=e.map(t,function(t){return i.when(t)}),o(u.$delegate.all(t))):i.props(t)}},function(t,n,r){"use strict";var e=r(2);t.exports=function(t){return e.some(t,1).get(0)}},function(t,n,r){"use strict";var e=r(2);t.exports=function(t){return e.resolve().bind(t)}},function(t,n,r){"use strict";var e=r(22),o=r(1);o.$defer=function(t){var n=o.$delegate.defer();return n.promise=e(n.promise,t),n},t.exports=function(){return o.$defer()}},function(t,n,r){"use strict";var e=r(23);t.exports=e("tap")},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(t,n,r){return o.map(t,function(t){return o.props({val:t,toFilter:n.apply(null,arguments)})},r).then(function(t){return e.map(e.filter(t,"toFilter"),"val")})}},function(t,n,r){"use strict";var e=r(23);t.exports=e("then")},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(){var t=e.toArray(arguments),n=t.pop();return o.all(t).spread(n)}},function(t,n,r){"use strict";var e=r(20);t.exports=function(t){return function(){return e(t,arguments,this)}}},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(t){return o.all(e.values(t)).then(function(n){return e.object(e.keys(t),n)})}},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(t,n,r){return e.reduce(t,function(r,e,u){return o.join(r,e,function(r,e){return n(r,e,u,t.length)})},o.resolve(r))}},function(t,n,r){"use strict";var e=r(24);t.exports=e("reject")},function(t,n,r){"use strict";var e=r(2),o=r(24);t.exports=o("resolve")||function(t){var n=e.defer();return n.resolve(t),n.promise}},function(t,n,r){"use strict";var e=r(3),o=r(2),u=r(4).AggregateError;t.exports=function(t,n){if(t.length<n)return o.reject(new u("initial array length ("+t.length+") > count ("+n+")"));var r=0,i=[],c=o.defer();return e.each(t,function(e){o.when(e).tap(function(t){null!==i&&(i.push(t),i.length>=n&&(c.resolve(i),i=null))}).$$catch(function(){null!==i&&(++r,t.length-r<n&&(c.reject(new u("Cannot resolve promise: too many rejections ("+r+")")),i=null))})}),c.promise}},function(t,n,r){"use strict";var e=r(24);t.exports=e("when")},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(t,n,r){try{return e.isEmpty(n)||e.isArray(n)||e.isArguments(n)||(n=[n]),o.when(t.apply(r||this,n))}catch(u){return o.reject(u)}}},function(t,n,r){var e;(function(t,o){(function(){function u(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t?t:null==t?"":t+""}function c(t){return!!t&&"object"==typeof t}function s(){}function a(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function f(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function l(t,n){for(var r=-1,e=t.length,o=-1,u=[];++r<e;){var i=t[r];n(i,r,t)&&(u[++o]=i)}return u}function p(t,n){for(var r=-1,e=t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}function h(t,n,r,e){var o=-1,u=t.length;for(e&&u&&(r=t[++o]);++o<u;)r=n(r,t[o],o,t);return r}function v(t,n){return t===jt?n:t}function y(t,n,r){var e=zn(n);xn.apply(e,Cn(n));for(var o=-1,u=e.length;++o<u;){var i=e[o],c=t[i],s=r(c,n[i],i,t,n);(s===s?s===c:c!==c)&&(c!==jt||i in t)||(t[i]=s)}return t}function g(t,n,r){r||(r={});for(var e=-1,o=n.length;++e<o;){var u=n[e];r[u]=t[u]}return r}function d(t,n,r){var e=typeof t;return"function"==e?n===jt?t:I(t,n,r):null==t?$t:"object"==e?T(t):n===jt?xt(t):k(t,n)}function m(t,n){var r=[];return _n(t,function(t,e,o){n(t,e,o)&&r.push(t)}),r}function $(t,n,r){for(var e=-1,o=t.length,u=-1,i=[];++e<o;){var s=t[e];if(c(s)&&H(s.length)&&(Dn(s)||it(s))){n&&(s=$(s,n,r));var a=-1,f=s.length;for(i.length+=f;++a<f;)i[++u]=s[a]}else r||(i[++u]=s)}return i}function b(t,n){return In(t,n,vt)}function x(t,n){return In(t,n,zn)}function j(t,n){for(var r=-1,e=n.length,o=-1,u=[];++r<e;){var i=n[r];Bn(t[i])&&(u[++o]=i)}return u}function E(t,n,r){if(null!=t){t=Z(t),r!==jt&&r in t&&(n=[r]);for(var e=-1,o=n.length;null!=t&&++e<o;)var u=t=Z(t)[n[e]];return u}}function A(t,n,r,e,o,u){if(t===n)return 0!==t||1/t==1/n;var i=typeof t,c=typeof n;return"function"!=i&&"object"!=i&&"function"!=c&&"object"!=c||null==t||null==n?t!==t&&n!==n:w(t,n,A,r,e,o,u)}function w(t,n,r,e,o,u,i){var c=Dn(t),s=Dn(n),a=Ot,f=Ot;c||(a=mn.call(t),a==wt?a=Lt:a!=Lt&&(c=lt(t))),s||(f=mn.call(n),f==wt?f=Lt:f!=Lt&&(s=lt(n)));var l=a==Lt&&!ln(t),p=f==Lt&&!ln(n),h=a==f;if(h&&!c&&!l)return Q(t,n,a);if(!o){var v=l&&dn.call(t,"__wrapped__"),y=p&&dn.call(n,"__wrapped__");if(v||y)return r(v?t.value():t,y?n.value():n,e,o,u,i)}if(!h)return!1;u||(u=[]),i||(i=[]);for(var g=u.length;g--;)if(u[g]==t)return i[g]==n;u.push(t),i.push(n);var d=(c?B:q)(t,n,r,e,o,u,i);return u.pop(),i.pop(),d}function O(t,n,r,e,o){for(var u=-1,i=n.length,c=!o;++u<i;)if(c&&e[u]?r[u]!==t[n[u]]:!(n[u]in t))return!1;for(u=-1;++u<i;){var s=n[u],a=t[s],f=r[u];if(c&&e[u])var l=a!==jt||s in t;else l=o?o(a,f,s):jt,l===jt&&(l=A(f,a,o,!0));if(!l)return!1}return!0}function S(t,n){var r=-1,e=Mn(t),o=H(e)?Array(e):[];return _n(t,function(t,e,u){o[++r]=n(t,e,u)}),o}function T(t){var n=zn(t),r=n.length;if(!r)return mt(!0);if(1==r){var e=n[0],o=t[e];if(J(o))return function(t){return null==t?!1:(t=Z(t),t[e]===o&&(o!==jt||e in t))}}for(var u=Array(r),i=Array(r);r--;)o=t[n[r]],u[r]=o,i[r]=J(o);return function(t){return null!=t&&O(Z(t),n,u,i)}}function k(t,n){var r=Dn(t),e=G(t)&&J(n),o=t+"";return t=tt(t),function(u){if(null==u)return!1;var i=o;if(u=Z(u),!(!r&&e||i in u)){if(u=1==t.length?u:E(u,L(t,0,-1)),null==u)return!1;i=nt(t),u=Z(u)}return u[i]===n?n!==jt||i in u:A(n,u[i],null,!0)}}function P(t){return function(n){return null==n?jt:Z(n)[t]}}function F(t){var n=t+"";return t=tt(t),function(r){return E(r,t,n)}}function R(t,n,r,e,o){return o(t,function(t,o,u){r=e?(e=!1,t):n(r,t,o,u)}),r}function L(t,n,r){var e=-1,o=t.length;n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=r===jt||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var u=Array(o);++e<o;)u[e]=t[e+n];return u}function _(t,n){for(var r=-1,e=n.length,o=Array(e);++r<e;)o[r]=t[n[r]];return o}function I(t,n,r){if("function"!=typeof t)return $t;if(n===jt)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,o){return t.call(n,r,e,o)};case 4:return function(r,e,o,u){return t.call(n,r,e,o,u)};case 5:return function(r,e,o,u,i){return t.call(n,r,e,o,u,i)}}return function(){return t.apply(n,arguments)}}function M(t){return ut(function(n,r){var e=-1,o=null==n?0:r.length,u=o>2&&r[o-2],i=o>2&&r[2],c=o>1&&r[o-1];for("function"==typeof u?(u=I(u,c,5),o-=2):(u="function"==typeof c?c:null,o-=u?1:0),i&&W(r[0],r[1],i)&&(u=3>o?null:u,o=1);++e<o;){var s=r[e];s&&t(n,s,u)}return n})}function C(t,n){return function(r,e){var o=r?Mn(r):0;if(!H(o))return t(r,e);for(var u=n?o:-1,i=Z(r);(n?u--:++u<o)&&e(i[u],u,i)!==!1;);return r}}function N(t){return function(n,r,e){for(var o=Z(n),u=e(n),i=u.length,c=t?i:-1;t?c--:++c<i;){var s=u[c];if(r(o[s],s,o)===!1)break}return n}}function U(t,n){return function(r,e,o){return"function"==typeof e&&o===jt&&Dn(r)?t(r,e):n(r,I(e,o,3))}}function D(t,n){return function(r,e,o,u){var i=arguments.length<3;return"function"==typeof e&&u===jt&&Dn(r)?t(r,e,o,i):R(r,z(e,u,4),o,i,n)}}function B(t,n,r,e,o,u,i){var c=-1,s=t.length,a=n.length,f=!0;if(s!=a&&!(o&&a>s))return!1;for(;f&&++c<s;){var l=t[c],p=n[c];if(f=jt,e&&(f=o?e(p,l,c):e(l,p,c)),f===jt)if(o)for(var h=a;h--&&(p=n[h],!(f=l&&l===p||r(l,p,e,o,u,i))););else f=l&&l===p||r(l,p,e,o,u,i)}return!!f}function Q(t,n,r){switch(r){case St:case Tt:return+t==+n;case kt:return t.name==n.name&&t.message==n.message;case Rt:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case _t:case Mt:return t==n+""}return!1}function q(t,n,r,e,o,u,i){var c=zn(t),s=c.length,a=zn(n),f=a.length;if(s!=f&&!o)return!1;for(var l=o,p=-1;++p<s;){var h=c[p],v=o?h in n:dn.call(n,h);if(v){var y=t[h],g=n[h];v=jt,e&&(v=o?e(g,y,h):e(y,g,h)),v===jt&&(v=y&&y===g||r(y,g,e,o,u,i))}if(!v)return!1;l||(l="constructor"==h)}if(!l){var d=t.constructor,m=n.constructor;if(d!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof d&&d instanceof d&&"function"==typeof m&&m instanceof m))return!1}return!0}function z(t,n,r){var e=s.callback||dt;return e=e===dt?d:e,r?e(t,n,r):e}function V(t,n){return t=+t,n=null==n?Pn:n,t>-1&&t%1==0&&n>t}function W(t,n,r){if(!st(r))return!1;var e=typeof n;if("number"==e)var o=Mn(r),u=H(o)&&V(n,o);else u="string"==e&&n in r;if(u){var i=r[n];return t===t?t===i:i!==i}return!1}function G(t,n){var r=typeof t;if("string"==r&&Jt.test(t)||"number"==r)return!0;if(Dn(t))return!1;var e=!Ht.test(t);return e||null!=n&&t in Z(n)}function H(t){return"number"==typeof t&&t>-1&&t%1==0&&Pn>=t}function J(t){return t===t&&(0===t?1/t>0:!st(t))}function K(t,n){t=Z(t);for(var r=-1,e=n.length,o={};++r<e;){var u=n[r];u in t&&(o[u]=t[u])}return o}function X(t,n){var r={};return b(t,function(t,e,o){n(t,e,o)&&(r[e]=t)}),r}function Y(t){for(var n=vt(t),r=n.length,e=r&&t.length,o=s.support,u=e&&H(e)&&(Dn(t)||o.nonEnumStrings&&ft(t)||o.nonEnumArgs&&it(t)),i=-1,c=[];++i<r;){var a=n[i];(u&&V(a,e)||dn.call(t,a))&&c.push(a)}return c}function Z(t){if(s.support.unindexedChars&&ft(t)){for(var n=-1,r=t.length,e=Object(t);++n<r;)e[n]=t.charAt(n);return e}return st(t)?t:Object(t)}function tt(t){if(Dn(t))return t;var n=[];return i(t).replace(Kt,function(t,r,e,o){n.push(e?o.replace(Zt,"$1"):r||t)}),n}function nt(t){var n=t?t.length:0;return n?t[n-1]:jt}function rt(t,n){var r=-1,e=t?t.length:0,o={};for(!e||n||Dn(t[0])||(n=[]);++r<e;){var u=t[r];n?o[u]=n[r]:u&&(o[u[0]]=u[1])}return o}function et(t,n,r){var e=Dn(t)?l:m;return n=z(n,r,3),e(t,n)}function ot(t,n,r){var e=Dn(t)?p:S;return n=z(n,r,3),e(t,n)}function ut(t,n){if("function"!=typeof t)throw new TypeError(At);return n=kn(n===jt?t.length-1:+n||0,0),function(){for(var r=arguments,e=-1,o=kn(r.length-n,0),u=Array(o);++e<o;)u[e]=r[n+e];switch(n){case 0:return t.call(this,u);case 1:return t.call(this,r[0],u);case 2:return t.call(this,r[0],r[1],u)}var i=Array(n+1);for(e=-1;++e<n;)i[e]=r[e];return i[n]=u,t.apply(this,i)}}function it(t){var n=c(t)?t.length:jt;return H(n)&&mn.call(t)==wt}function ct(t){if(null==t)return!0;var n=Mn(t);return H(n)&&(Dn(t)||ft(t)||it(t)||c(t)&&Bn(t.splice))?!n:!zn(t).length}function st(t){var n=typeof t;return"function"==n||!!t&&"object"==n}function at(t){return null==t?!1:mn.call(t)==Pt?$n.test(gn.call(t)):c(t)&&(ln(t)?$n:tn).test(t)}function ft(t){return"string"==typeof t||c(t)&&mn.call(t)==Mt}function lt(t){return c(t)&&H(t.length)&&!!rn[mn.call(t)]}function pt(t){var n=t?Mn(t):0;return H(n)?n?s.support.unindexedChars&&ft(t)?t.split(""):a(t):[]:yt(t)}function ht(t){return j(t,vt(t))}function vt(t){if(null==t)return[];st(t)||(t=Object(t));var n=t.length,r=s.support;n=n&&H(n)&&(Dn(t)||r.nonEnumStrings&&ft(t)||r.nonEnumArgs&&it(t))&&n||0;for(var e=t.constructor,o=-1,u=Bn(e)&&e.prototype||vn,i=u===t,c=Array(n),a=n>0,f=r.enumErrorProps&&(t===hn||t instanceof Error),l=r.enumPrototypes&&Bn(t);++o<n;)c[o]=o+"";for(var p in t)l&&"prototype"==p||f&&("message"==p||"name"==p)||a&&V(p,n)||"constructor"==p&&(i||!dn.call(t,p))||c.push(p);if(r.nonEnumShadows&&t!==vn){var h=t===yn?Mt:t===hn?kt:mn.call(t),v=Fn[h]||Fn[Lt];for(h==Lt&&(u=vn),n=nn.length;n--;){p=nn[n];var y=v[p];i&&y||(y?!dn.call(t,p):t[p]===u[p])||c.push(p)}}return c}function yt(t){return _(t,zn(t))}function gt(t){return t=i(t),t&&Yt.test(t)?t.replace(Xt,"\\$&"):t}function dt(t,n,r){return r&&W(t,n,r)&&(n=null),d(t,n)}function mt(t){return function(){return t}}function $t(t){return t}function bt(){}function xt(t){return G(t)?P(t):F(t)}var jt,Et="3.7.0",At="Expected a function",wt="[object Arguments]",Ot="[object Array]",St="[object Boolean]",Tt="[object Date]",kt="[object Error]",Pt="[object Function]",Ft="[object Map]",Rt="[object Number]",Lt="[object Object]",_t="[object RegExp]",It="[object Set]",Mt="[object String]",Ct="[object WeakMap]",Nt="[object ArrayBuffer]",Ut="[object Float32Array]",Dt="[object Float64Array]",Bt="[object Int8Array]",Qt="[object Int16Array]",qt="[object Int32Array]",zt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Wt="[object Uint16Array]",Gt="[object Uint32Array]",Ht=/\.|\[(?:[^[\]]+|(["'])(?:(?!\1)[^\n\\]|\\.)*?)\1\]/,Jt=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Xt=/[.*+?^${}()|[\]\/\\]/g,Yt=RegExp(Xt.source),Zt=/\\(\\)?/g,tn=/^\[object .+?Constructor\]$/,nn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],rn={};rn[Ut]=rn[Dt]=rn[Bt]=rn[Qt]=rn[qt]=rn[zt]=rn[Vt]=rn[Wt]=rn[Gt]=!0,rn[wt]=rn[Ot]=rn[Nt]=rn[St]=rn[Tt]=rn[kt]=rn[Pt]=rn[Ft]=rn[Rt]=rn[Lt]=rn[_t]=rn[It]=rn[Mt]=rn[Ct]=!1;var en={"function":!0,object:!0},on=en[typeof n]&&n&&!n.nodeType&&n,un=en[typeof t]&&t&&!t.nodeType&&t,cn=on&&un&&"object"==typeof o&&o&&o.Object&&o,sn=en[typeof self]&&self&&self.Object&&self,an=en[typeof window]&&window&&window.Object&&window,fn=(un&&un.exports===on&&on,cn||an!==(this&&this.window)&&an||sn||this),ln=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),pn=Array.prototype,hn=Error.prototype,vn=Object.prototype,yn=String.prototype,gn=Function.prototype.toString,dn=vn.hasOwnProperty,mn=vn.toString,$n=RegExp("^"+gt(mn).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=at(bn=Object.getOwnPropertySymbols)&&bn,xn=pn.push,jn=at(Object.preventExtensions=Object.preventExtensions)&&jn,En=vn.propertyIsEnumerable,An=pn.splice,wn=at(wn=fn.Uint8Array)&&wn,On=function(){var t={1:0},n=jn&&at(n=Object.assign)&&n;try{n(jn(t),"xo")}catch(r){}return!t[1]&&n}(),Sn=at(Sn=Array.isArray)&&Sn,Tn=at(Tn=Object.keys)&&Tn,kn=Math.max,Pn=Math.pow(2,53)-1,Fn={};Fn[Ot]=Fn[Tt]=Fn[Rt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Fn[St]=Fn[Mt]={constructor:!0,toString:!0,valueOf:!0},Fn[kt]=Fn[Pt]=Fn[_t]={constructor:!0,toString:!0},Fn[Lt]={constructor:!0},f(nn,function(t){for(var n in Fn)if(dn.call(Fn,n)){var r=Fn[n];r[t]=dn.call(r,t)}});var Rn=s.support={};!function(t){var n=function(){this.x=t},r={0:t,length:t},e=[];n.prototype={valueOf:t,y:t};for(var o in new n)e.push(o);Rn.argsTag=mn.call(arguments)==wt,Rn.enumErrorProps=En.call(hn,"message")||En.call(hn,"name"),Rn.enumPrototypes=En.call(n,"prototype"),Rn.funcDecomp=/\bthis\b/.test(function(){return this}),Rn.funcNames="string"==typeof Function.name,Rn.nonEnumStrings=!En.call("x",0),Rn.nonEnumShadows=!/valueOf/.test(e),Rn.spliceObjects=(An.call(r,0,1),!r[0]),Rn.unindexedChars="x"[0]+Object("x")[0]!="xx";try{Rn.nonEnumArgs=!En.call(arguments,1)}catch(u){Rn.nonEnumArgs=!0}}(1,0);var Ln=On||function(t,n){return null==n?t:g(n,Cn(n),g(n,zn(n),t))},_n=C(x),In=N(),Mn=P("length"),Cn=bn?function(t){return bn(Z(t))}:mt([]),Nn=U(f,_n),Un=D(h,_n);Rn.argsTag||(it=function(t){var n=c(t)?t.length:jt;return H(n)&&dn.call(t,"callee")&&!En.call(t,"callee")});var Dn=Sn||function(t){return c(t)&&H(t.length)&&mn.call(t)==Ot},Bn=u(/x/)||wn&&!u(wn)?function(t){return mn.call(t)==Pt}:u,Qn=M(function(t,n,r){return r?y(t,n,r):Ln(t,n)}),qn=ut(function(t){var n=t[0];return null==n?n:(t.push(v),Qn.apply(jt,t))}),zn=Tn?function(t){if(t)var n=t.constructor,r=t.length;return"function"==typeof n&&n.prototype===t||("function"==typeof t?s.support.enumPrototypes:H(r))?Y(t):st(t)?Tn(t):[]}:Y,Vn=ut(function(t,n){return null==t?{}:"function"==typeof n[0]?X(t,I(n[0],n[1],3)):K(t,$(n))});s.assign=Qn,s.callback=dt,s.constant=mt,s.defaults=qn,s.filter=et,s.forEach=Nn,s.functions=ht,s.keys=zn,s.keysIn=vt,s.map=ot,s.pick=Vn,s.property=xt,s.restParam=ut,s.toArray=pt,s.values=yt,s.zipObject=rt,s.collect=ot,s.each=Nn,s.extend=Qn,s.iteratee=dt,s.methods=ht,s.object=rt,s.select=et,s.escapeRegExp=gt,s.identity=$t,s.isArguments=it,s.isArray=Dn,s.isEmpty=ct,s.isFunction=Bn,s.isNative=at,s.isObject=st,s.isString=ft,s.isTypedArray=lt,s.last=nt,s.noop=bt,s.reduce=Un,s.foldl=Un,s.inject=Un,s.VERSION=Et,fn._=s,e=function(){return s}.call(n,r,n,t),!(e!==jt&&(t.exports=e))}).call(this)}).call(n,r(41)(t),function(){return this}())},function(t,n,r){"use strict";function e(t,n){c(this,"$$state",t.$$state),o.each(o.methods(t),function(n){c(this,"$$"+n,t[n])},this),n&&n.$$boundTo&&c(this,"$$boundTo",n.$$boundTo),c(this,"$$arrayListeners",[]),this.then=t.then=this.then.bind(this)}var o=r(3),u=r(1),i=r(25),c=r(26),s={"catch":"caught","finally":"lastly","return":["thenReturn","returns"],"throw":["thenThrow"]};t.exports=function(t,n){return new e(t,n)},e.prototype={all:i("all"),any:i("any"),bind:r(27),call:r(28),"catch":r(29),delay:r(30),done:r(31),each:i("each"),filter:i("filter"),"finally":function(){return this.$$finally.apply(this,arguments)},get:r(32),map:i("map"),nodeify:r(33),props:i("props"),reduce:i("reduce"),"return":r(34),some:i("some"),spread:r(35),tap:r(36),then:r(37),"throw":r(38),timeout:r(39),constructor:e},c(e.prototype,"$$callArrayListeners",function(t){o.each(this.$$arrayListeners,function(n){n(t)})}),o.each(s,function(t,n){o.isArray(t)||(t=[t]),u.$options.compatibilityAliases&&o.each(t,function(t){e.prototype[t]=e.prototype[n]}),u.$options.disableES5Methods&&delete e.prototype[n]})},function(t,n,r){"use strict";var e=r(3),o=r(2),u=r(40),i=r(26);t.exports=function(t){return function(n,r,c){c=e.pick(c,"concurrency");var s=c.concurrency?new u(c):{add:function(t){return t()}},a=e.map(n,function(e,u){return o.when(e)[t](function(t){return s.add(function(){return o.when(r.call(null,t,u,n.length))})})}),f=o.all(a);return i(f,"$$unsynced",a),f}}},function(t,n,r){"use strict";var e=r(22),o=r(1);t.exports=function(t){return t in o.$delegate?function(){return e(o.$delegate[t].apply(o.$delegate,arguments))}:null}},function(t,n,r){"use strict";var e=r(42),o=r(2),u=r(26);t.exports=function(t){function n(n,r){var e=o[t].apply(null,[r].concat(n));return u(e,"$$boundTo",this.$$boundTo),e}return function(){var t=e.call(this,arguments);if(this.$$unsynced)return n.call(this,t,this.$$unsynced);var r=this.then(function(e){if(r.$$promiseResult)return r.$$promiseResult;var o=n.call(this,t,e);return r.$$arrayListeners.length&&o.$$unsynced&&r.$$callArrayListeners(o.$$unsynced),o}.bind(this));return this.$$arrayListeners.push(function(e){u(this,"$$promiseResult",n.call(this,t,e)),r.$$arrayListeners.length&&this.$$promiseResult.$$unsynced&&r.$$callArrayListeners(this.$$promiseResult.$$unsynced)}.bind(this)),r}}},function(t,n,r){"use strict";t.exports=function(t,n,r){if(Object.defineProperty)try{Object.defineProperty(t,n,{value:r})}catch(e){}t[n]!==r&&(t[n]=r)}},function(t,n,r){"use strict";var e=r(26);t.exports=function(t){return e(this,"$$boundTo",t),this}},function(t,n,r){"use strict";var e=r(3);t.exports=function(){var t=e.toArray(arguments),n=t.shift();return this.then(function(r){return r[n].apply(r,t)})}},function(t,n,r){"use strict";function e(t,n){var r=!t.length;return u.each(t,function(t){if(!u.isFunction(t))throw new Error("Invalid argument.");return t instanceof Error||t.prototype instanceof Error?(r=r||n instanceof t,!r):(r=r||t(n),!r)}),r}var o=r(2),u=r(3);t.exports=function(){var t=u.toArray(arguments),n=t.pop();return this.$$catch(function(r){return u.isFunction(n)&&e(t,r)?n.call(this,r):o.reject(r)})}},function(t,n,r){"use strict";var e=r(1);t.exports=function(t){return this.then(function(n){var r=e.$defer(this);return setTimeout(r.resolve,t,n),r.promise}.bind(this))}},function(t,n,r){"use strict";var e=r(2);t.exports=function(){return this.then.apply(this,arguments).$$catch(function(t){setTimeout(function(){throw t})}).$$finally(function(){return e.reject(new Error("Do not chain anything after calling done()!"))})}},function(t,n,r){"use strict";t.exports=function(t){return this.then(function(n){return n[t]})}},function(t,n,r){"use strict";var e=r(3),o=r(2);t.exports=function(t,n){return t=t||e.noop,n=n||{},this.then(function(r){var o=r;return o=n.spread&&e.isArray(o)?[null].concat(o):[null,o],t.apply(this,o),r},function(n){return t.call(this,n),o.reject(n)})}},function(t,n,r){"use strict";var e=r(3);t.exports=function(t){return this.then(e.constant(t))}},function(t,n,r){"use strict";var e=r(3);t.exports=function(t){return this.then(function(n){return e.isArray(n)||(n=[n]),t.apply(this,n)})}},function(t,n,r){"use strict";var e=r(2);t.exports=function(t){return this.then(function(n){return e.when(t.call(this,n)).returns(n)})}},function(t,n,r){"use strict";var e=r(42),o=r(22);t.exports=function(){return o(this.$$then.apply(this,e.call(this,arguments)),this)}},function(t,n,r){"use strict";var e=r(2);t.exports=function(t){return this.then(function(){return e.reject(t)})}},function(t,n,r){"use strict";var e=r(1),o=r(2);t.exports=function(t,n){var r=e.$defer(this),u=setTimeout(function(){r.reject(new o.TimeoutError(n||"Timed out after "+t+" ms"))},t);return this.then(function(t){r.resolve(t)},function(t){r.reject(t)})["finally"](clearTimeout.bind(null,u)),r.promise}},function(t,n,r){"use strict";var e=r(3),o=r(1),u=t.exports=function(t){this.$options=e.defaults(t,{concurrency:1,maxQueue:0}),this.$fns=[]};u.prototype.add=function(t){var n=o.$defer(),r=function(){t()["finally"](function(){this.$fns.splice(this.$fns.indexOf(r),1),this.$fns.length>=this.$options.concurrency&&this.$fns[this.$options.concurrency-1]()}.bind(this)).then(function(t){n.resolve(t)},function(t){n.reject(t)})}.bind(this);return this.$fns.push(r)<=this.$options.concurrency&&r(),n.promise}},function(t,n,r){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n,r){"use strict";var e=r(3);t.exports=function(t){return e.map(t,function(t){return e.isFunction(t)?t.bind(this.$$boundTo||this):t},this)}}])});
//# sourceMappingURL=angular-extend-promises.min.js.map